<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Visual Analytics &amp; Applications: DataViz Makeover 02 </title>

<meta property="description" itemprop="description" content="The task for this makeover is to design and implement  **interactive visualisation** for the infographics by Department of Statistics, Singapore (DOS). The details can be found [here](https://isss608.netlify.app/dataviz/dataviz2).&#10;&#10;The proposed data visualisation is available on Tableau Public through this [link](https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard)."/>

<link rel="canonical" href="https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-20"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-20"/>
<meta name="article:author" content="Archie Dolit"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Visual Analytics &amp; Applications: DataViz Makeover 02 "/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="The task for this makeover is to design and implement  **interactive visualisation** for the infographics by Department of Statistics, Singapore (DOS). The details can be found [here](https://isss608.netlify.app/dataviz/dataviz2).&#10;&#10;The proposed data visualisation is available on Tableau Public through this [link](https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard)."/>
<meta property="og:url" content="https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/"/>
<meta property="og:image" content="https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/img/03_dashboard.png"/>
<meta property="og:image:width" content="2349"/>
<meta property="og:image:height" content="1264"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Visual Analytics &amp; Applications"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Visual Analytics &amp; Applications: DataViz Makeover 02 "/>
<meta property="twitter:description" content="The task for this makeover is to design and implement  **interactive visualisation** for the infographics by Department of Statistics, Singapore (DOS). The details can be found [here](https://isss608.netlify.app/dataviz/dataviz2).&#10;&#10;The proposed data visualisation is available on Tableau Public through this [link](https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard)."/>
<meta property="twitter:url" content="https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/"/>
<meta property="twitter:image" content="https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/img/03_dashboard.png"/>
<meta property="twitter:image:width" content="2349"/>
<meta property="twitter:image:height" content="1264"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Visual Analytics &amp; Applications: DataViz Makeover 02 "/>
<meta name="citation_fulltext_html_url" content="https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/"/>
<meta name="citation_online_date" content="2021/06/20"/>
<meta name="citation_publication_date" content="2021/06/20"/>
<meta name="citation_author" content="Archie Dolit"/>
<meta name="citation_author_institution" content="School of Computing and Information Systems, Singapore Management University"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","preview","author","date","output","categories","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 02 "]},{"type":"character","attributes":{},"value":["The task for this makeover is to design and implement  **interactive visualisation** for the infographics by Department of Statistics, Singapore (DOS). The details can be found [here](https://isss608.netlify.app/dataviz/dataviz2).\n\nThe proposed data visualisation is available on Tableau Public through this [link](https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard)."]},{"type":"character","attributes":{},"value":["img/03_dashboard.png"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Archie Dolit"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/adolit/"]},{"type":"character","attributes":{},"value":["School of Computing and Information Systems, Singapore Management University"]},{"type":"character","attributes":{},"value":["https://scis.smu.edu.sg/"]}]}]},{"type":"character","attributes":{},"value":["06-20-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[2]}]}]},{"type":"character","attributes":{},"value":["Interactive Visualisation","Tableau","DataViz Makeover"]},{"type":"character","attributes":{},"value":["https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/"]},{"type":"character","attributes":{},"value":["https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-02_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-02_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-02_files/distill-2.2.21/template.v2.js","dataviz-makeover-02_files/header-attrs-2.8/header-attrs.js","dataviz-makeover-02_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-02_files/popper-2.6.0/popper.min.js","dataviz-makeover-02_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-02_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-02_files/tippy-6.2.7/tippy.css","dataviz-makeover-02_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-02_files/webcomponents-2.0.0/webcomponents.js","img/01_orig.jpg","img/02_sketch.jpg","img/03_dashboard.png","img/04_data_source.png","img/insights-01.png","img/insights-02.png","img/insights-02a.png","img/insights-02b.png","img/insights-03a.png","img/insights-03b.png","img/insights-03c.png","img/prep/p1.png","img/prep/p10.png","img/prep/p11.png","img/prep/p12.png","img/prep/p13.png","img/prep/p14.png","img/prep/p15.png","img/prep/p16.png","img/prep/p17.png","img/prep/p2.png","img/prep/p3.png","img/prep/p4.png","img/prep/p5.png","img/prep/p6.png","img/prep/p7.png","img/prep/p8.png","img/prep/p9.png","img/viz/Screenshot_1.png","img/viz/v1.png","img/viz/v10.png","img/viz/v11.png","img/viz/v12.png","img/viz/v13.png","img/viz/v14.png","img/viz/v15.png","img/viz/v16.png","img/viz/v17.png","img/viz/v18.png","img/viz/v19.png","img/viz/v2.png","img/viz/v20.png","img/viz/v21.png","img/viz/v22.png","img/viz/v23.png","img/viz/v24.png","img/viz/v25.png","img/viz/v26.png","img/viz/v27.png","img/viz/v28.png","img/viz/v29.png","img/viz/v3.png","img/viz/v30.png","img/viz/v31.png","img/viz/v32a.png","img/viz/v32b.png","img/viz/v33.png","img/viz/v34.png","img/viz/v35.png","img/viz/v36.png","img/viz/v37.png","img/viz/v38.png","img/viz/v39.png","img/viz/v4.png","img/viz/v40.png","img/viz/v41.png","img/viz/v42.png","img/viz/v43.png","img/viz/v44.png","img/viz/v45.png","img/viz/v46.png","img/viz/v47.png","img/viz/v48.png","img/viz/v49.png","img/viz/v5.png","img/viz/v50.png","img/viz/v51.png","img/viz/v52.png","img/viz/v53a.png","img/viz/v53b.png","img/viz/v54.png","img/viz/v55.png","img/viz/v6.png","img/viz/v7.png","img/viz/v8.png","img/viz/v9a.png","img/viz/v9b.png","img/viz/v9c.png","img/viz/v9d.png","img/viz/v9e.png","img/viz/v9f.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.8/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 02 ","description":"The task for this makeover is to design and implement  **interactive visualisation** for the infographics by Department of Statistics, Singapore (DOS). The details can be found [here](https://isss608.netlify.app/dataviz/dataviz2).\n\nThe proposed data visualisation is available on Tableau Public through this [link](https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard).","authors":[{"author":"Archie Dolit","authorURL":"https://www.linkedin.com/in/adolit/","affiliation":"School of Computing and Information Systems, Singapore Management University","affiliationURL":"https://scis.smu.edu.sg/","orcidID":""}],"publishedDate":"2021-06-20T00:00:00.000+08:00","citationText":"Dolit, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://www.linkedin.com/in/adolit/">
<img src="../../img/linkedin_logo_white.png" alt="Logo"/>
</a>
<a href="../../index.html" class="title">Visual Analytics &amp; Applications</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
DataViz Makeover
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="../../posts/2021-05-30-dataviz-makeover-01/index.html">Makeover 1</a>
<a href="../../posts/2021-06-20-dataviz-makeover-02/index.html">Makeover 2</a>
</div>
</div>
<a href="../../index.html">Assignment (WIP)</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Group Project (WIP)
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="https://vapg3.netlify.app/proposal.html">Proposal</a>
<a href="https://vapg3.netlify.app">User Guide (WIP)</a>
<a href="https://vapg3.netlify.app">R ShinyApp (WIP)</a>
<a href="https://vapg3.netlify.app">Research Paper (WIP)</a>
<a href="https://vapg3.netlify.app">Poster (WIP)</a>
</div>
</div>
<a href="../../index.html">Tableau Exercises (WIP)</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
R Exercises
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="../../posts/2021-06-26-programming-datavis-r/index.html">Programming DataVis</a>
<a href="../../posts/2021-07-03-programming-geovis-r/index.html">Programming GeoVis</a>
<a href="../../posts/2021-07-10-network-datavis-r/index.html">Network DataVis</a>
<a href="../../posts/2021-07-11-text-vis-r/index.html">Text Visualisation</a>
</div>
</div>
<a href="../../index.html">GeoSpatial Data Science &amp; Analytics (WIP)</a>
</div>
<div class="nav-right">
<a href="../../about.html">About</a>
<a href="https://isss608.netlify.app/tableau">Tableau Resources</a>
<a href="https://isss608.netlify.app/r">R Resources</a>
<a href="https://github.com/adolit/VAA" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 02</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:Interactive_Visualisation" class="dt-tag">Interactive Visualisation</a>
  <a href="../../index.html#category:Tableau" class="dt-tag">Tableau</a>
  <a href="../../index.html#category:DataViz_Makeover" class="dt-tag">DataViz Makeover</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>The task for this makeover is to design and implement <strong>interactive visualisation</strong> for the infographics by Department of Statistics, Singapore (DOS). The details can be found <a href="https://isss608.netlify.app/dataviz/dataviz2">here</a>.</p>
<p>The proposed data visualisation is available on Tableau Public through this <a href="https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard">link</a>.</p></p>
</div>

<div class="d-byline">
  Archie Dolit <a href="https://www.linkedin.com/in/adolit/" class="uri">https://www.linkedin.com/in/adolit/</a> (School of Computing and Information Systems, Singapore Management University)<a href="https://scis.smu.edu.sg/" class="uri">https://scis.smu.edu.sg/</a>
  
<br/>06-20-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#critique-of-visualisation">1.0 Critique of Visualisation</a>
<ul>
<li><a href="#clarity">1.1 Clarity</a></li>
<li><a href="#aesthetic">1.2 Aesthetic</a></li>
</ul></li>
<li><a href="#alternative-design">2.0 Alternative Design</a>
<ul>
<li><a href="#clarity-1">2.1 Clarity</a></li>
<li><a href="#aesthetic-1">2.2 Aesthetic</a></li>
</ul></li>
<li><a href="#proposed-data-visualisation">3.0 Proposed Data Visualisation</a></li>
<li><a href="#step-by-step-guide">4.0 Step-by-step Guide</a>
<ul>
<li><a href="#data-understanding">4.1 Data Understanding</a></li>
<li><a href="#data-preparation">4.2 Data Preparation</a></li>
<li><a href="#data-visualisation">4.3 Data Visualisation</a></li>
</ul></li>
<li><a href="#derived-insights">5.0 Derived Insights</a>
<ul>
<li><a href="#trading-region">5.1 Trading Region</a></li>
<li><a href="#top-trading-partners-by-total-trade">5.2 Top Trading Partners by Total Trade</a></li>
<li><a href="#top-net-exporter-and-top-net-importer">5.3 Top Net Exporter and Top Net Importer</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="critique-of-visualisation">1.0 Critique of Visualisation</h1>
<p>The original visualisation can be seen below:</p>
<p><img src="img/01_orig.jpg" /></p>
<p>Generally, the graph is beautiful but confusing. The use of bubble size to indicate the total merchandise trade is a good initial step. Nonetheless, there are plenty of areas to improve with regards to clarity and aesthetics of the graph as discussed below:</p>
<h2 id="clarity">1.1 Clarity</h2>
<ol type="1">
<li><p><strong>Title</strong>: The title of the graph is vague. It mentions ‘Merchandise Trade Performance with Major Trading Partners’. However, there are no qualifiers for the ‘Performance’ and ‘Major’ - does ‘performance’ mean total trade (import + export) and ‘major’ mean Top 10 trading partners?</p></li>
<li><p><strong>Axis</strong>: The position of countries as net exporter or net importer is confusing. In particular, it is difficult to determine the centre point (white circle) for the bubbles of Malaysia, EU, Japan Republic of Korea - whether they are within the net importer blue region or net exporter green region. Additionally, the diagonal separation of net importer region and net exporter region is not intuitive.</p></li>
<li><p><strong>Proportionality</strong>: The total trade per trading partner is not geographically proportional. European Union comprises of several countries namely Austria, Belgium, Bulgaria, Croatia, Cyprus, Czech Rep, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Poland, Portugal, Romania, Slovak Rep, Slovenia, Spain, and Sweden while Hong Kong is special administrative region of Mainland China. These trading partners are then compared against individual countries.</p></li>
<li><p><strong>Visibility</strong>: The size and color of bigger bubbles obstruct the view of other smaller bubbles. For example, United States blocks the bubble of EU and Malaysia while Japan blocks the bubble of Republic of Korea.</p></li>
<li><p><strong>Interactivity</strong>: Aside from zooming effect of bubbles, no additional information is provided when the mouse is hovering the country.</p></li>
</ol>
<h2 id="aesthetic">1.2 Aesthetic</h2>
<ol type="1">
<li><p><strong>Color</strong>: The use of different colors for each trading partner does not provide additional information and can cause misinterpretation. For example, the green color of Malaysia bubble may be associated with net exporter green region which is not the case – looking at the centre point of Malaysia, it is positioned towards net importer region. Additionally, the use of solid color (opacity = 100%) blocks the information of smaller bubble size.</p></li>
<li><p><strong>Legend</strong>: The note at the bottom of the graph which serves as a legend is too wordy. It is not easy to understand how the color of the background is associated with net import and net export regions.</p></li>
<li><p><strong>Axis</strong>: Both the x and y axes for net exporters and net importers do not include the unit of measurement which should be in billion Singapore dollars (S$0 to S$ 80B).</p></li>
<li><p><strong>Subtitle</strong>. The graph does not have subtitle which can be used to convey intent and additional information. It also does not include annotations to tell interesting data stories.</p></li>
</ol>
<h1 id="alternative-design">2.0 Alternative Design</h1>
<p>The proposed alternative design leverages on the good qualities of the original visualisation. It keeps bubble graph corresponding to the total merchandise trade value, green color for net exporter and blue color for net importers. Additionally, the design will preserve the ‘ Top 10 Major Trading Partners’ but present it in another way using slopegraph.</p>
<p><img src="img/02_sketch.jpg" /></p>
<p>With reference to the critiques previously mentioned, the following suggestions are proposed:</p>
<h2 id="clarity-1">2.1 Clarity</h2>
<ol type="1">
<li><p><strong>Title</strong>: The title of the graph is updated to SINGAPORE’S INTERNATIONAL TRADE FROM ALL REGIONS, 2011-2020 to showcase the scope of visualization both in number years and trading partners included.</p></li>
<li><p><strong>Axis</strong>: The position of trading partners will be plot against a quadrant where x-axis is the percentile of total trade and y-axis is the percentile of trade balance. The 4 quadrants can clearly show which countries are among the top exporter, top importers and biggest trading partners in terms of total trade.</p></li>
<li><p><strong>Proportionality</strong>: The visualization of trade will be done on individual trading partners instead of regional block (example: European Union). Nevertheless, an additional filter is added to select countries from certain regions (example: Africa, Americas, Asia, Europe, Ocenia).</p></li>
<li><p><strong>Visibility</strong>: Opacity is set to 80% and border is added to prevent bigger bubbles from blocking the smaller bubbles.</p></li>
<li><p><strong>Interactivity</strong>: Interactivity is enhanced using filters to control the information shown on the quadrant and slopegraph. For the quadrant, users can select how many trading partners, from which region and what year will be shown in the animated bubble plot. For the slopegraph, users can select the start and end year and see how the Top 10 trading partners change over the period. To show the trade details of a particular country, user can click on any country from quadrant or slopegraph. Afterwards, export, import and trade balance will be plotted from 2011-2020. Additional information is shown when hovering the trading partner names including the ranks, total trade, trade balance, export, import and effective date</p></li>
<li><p><strong>Animation</strong>: Animation is added to effectively show the transitions or changes in ranks, size and distribution of different trading partners.</p></li>
</ol>
<h2 id="aesthetic-1">2.2 Aesthetic</h2>
<ol type="1">
<li><p><strong>Color</strong>: The color is updated to correspond to the trade balance. Blue is use for net importers while green is used for net exporters. This color scheme is consistent with the original visualisation where net importers and net exporters are marked by green and blue regions respectively. Additionally, the size of bubbles for quadrant and thickness of the line for slopegraph corresponds to the total trade of each trading partners.</p></li>
<li><p><strong>Legend</strong>: The color legend is added beside the subtitle so user can read it quickly and have an idea what the 2 colors mean.</p></li>
<li><p><strong>Axis</strong>: The axis is updated to percentile of total trade and percentile of trade balance for quadrant analysis. For both slopegraph and trade details, the x-axis is set to trading date.</p></li>
<li><p><strong>Subtitle</strong>. Subtitle is added to convey additional information. Data source is also included to cite Department of Statistics, Singapore.</p></li>
<li><p><strong>Layout</strong>. The layout utilizes the coordinate views for linked and multi-dimensional exploration. Users can start with the overview explorations of quadrant analysis by changing the number of trading partners shown, region and year of interest. The animation from quadrant may not explicitly show the ranking of trading partners, the slopegraph can supplement how the top trading partners change over the years. The user can also perform detailed exploration by selecting the name of trading partner from quadrant and slopegraph graphs.</p></li>
</ol>
<h1 id="proposed-data-visualisation">3.0 Proposed Data Visualisation</h1>
<p>The proposed data visualisation can be seen below and available on Tableau Public through this <a href="https://public.tableau.com/app/profile/adolit/viz/DataViz_Makeover02/SGTradeDashboard">link</a>.</p>
<p><img src="img/03_dashboard.png" /></p>
<h1 id="step-by-step-guide">4.0 Step-by-step Guide</h1>
<h2 id="data-understanding">4.1 Data Understanding</h2>
<p>The data is available from <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">Merchandise Trade by Region/Market</a> and can be downloaded by clicking on the link ‘Download all in Excel’ on the same webpage. The file (<strong>outputFile.xlsx</strong>) consists of 3 sheets - Content, T1 which contains merchandise imports, and T2 which contains merchandise exports. The document includes merchandise trade information for more than one hundred countries and regions starting from Jan 1976 up to the present.</p>
<p><img src="img/04_data_source.png" /></p>
<p>For this makeover, all trading partners will be included except for the aggregate value of different regions (America, Asia, Europe, Oceania, Africa and European Union) will be excluded to maintain the same geographical proportional. Additionally, the visualisation is limited to the period of Jan 2011 to Dec 2020.</p>
<h2 id="data-preparation">4.2 Data Preparation</h2>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 35%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>#</strong></th>
<th><strong>Step</strong></th>
<th><strong>Reference Image</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>P1</td>
<td>Download the file from <a href="(https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data)">SingStat</a> website, unzip it, connect the Excel file (outputFile.xlsx) to Tableau Prep Builder and select “Cleaned with Data Interpreter”</td>
<td><img src="img/prep/p1.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P2</td>
<td>Drag T1 to the main pane, select rows corresponding to the Variables, 2011, 2012, 2013 until 2020 using the search function</td>
<td><img src="img/prep/p2.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>P3</td>
<td>Add “Clean” step, Filter: Selected Values, search for “Total”, “Million” and exclude these rows</td>
<td><img src="img/prep/p3.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P4</td>
<td>Select Variables column, click on the “Automatic Split”</td>
<td><img src="img/prep/p4.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>P5</td>
<td>Delete Variables – Split 2 and Variables</td>
<td><img src="img/prep/p5.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P6</td>
<td>Add a “Pivot” step and drag Jan 2011 to Dec 2020 to the Pivoted Fields</td>
<td><img src="img/prep/p6.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>P7</td>
<td>Rename “Pivot 1 Names” to “Date”, “Pivot1 Values” to “Import Raw” and “Variables – Split 1” to “Trading Partner</td>
<td><img src="img/prep/p7.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P8</td>
<td>Repeat the same steps P2 to P7 for the T2 sheet. However, in P7, rename “Pivot1 Values” to “Export Raw”</td>
<td><img src="img/prep/p8.png" style="width:90.0%" /></td>
</tr>
<tr class="odd">
<td>P9</td>
<td>Drag Pivot 2 towards Pivot 1 and create a Join step with settings Pivot 1 Trading Partner = Pivot 2 Trading Partner and Pivot 1 Date = Pivot 2 Date</td>
<td><img src="img/prep/p9.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P10</td>
<td>Click on the blue shaded region to investigate the cause of the mismatch.</td>
<td><img src="img/prep/p10.png" style="width:90.0%" /> <br> <em>Based on initial analysis, there are 3,360 entries from the T1 (merchandise imports) which cannot be matched in T2 (merchandise exports). For certain trading months, Singapore is importing from these 28 trading partners but not exporting at the same time which can lead to trade balance deficit.</em></td>
</tr>
<tr class="odd">
<td>P11</td>
<td>Create a “Export” calculated field by multiplying “Export Raw” by 1000. Similarly, create “Import” calculated field by multiplying “Export Raw” by 1000</td>
<td><img src="img/prep/p11.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P12</td>
<td>From the Join Results, remove the fields “Date – 1”, “Trading Partner – 1”, “Export Raw” and “Import Raw”</td>
<td><img src="img/prep/p12.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>P13</td>
<td>Download the “continents2.csv” from <a href="https://www.kaggle.com/andradaolteanu/country-mapping-iso-continent-region">Kaggle</a> website to map the trading partners (countries) to region (continent)</td>
<td><img src="img/prep/p13.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>P14</td>
<td>Connect “continents2.csv” to Tableau Prep Builder and drag continents2 toward Join1 and create Join 2 with settings Join 1 Trading Partner = Join 2 name</td>
<td><img src="img/prep/p14.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>P15</td>
<td>Investigate the cause of the mismatch and update the continents2 name to match the Join 1 Trading Partner</td>
<td><img src="img/prep/p15.png" style="width:100.0%" /> <br> <em>During the data clean up, “Yemen Democratic” and “Germany, Democratic Republic” of were excluded since these are old country names are no trades from 2011 to 2020. “Commonwealth of Independent States” was mapped to “Armenia”; “Other Countries in America” was mapped to “Antigua and Barbuda” and “Other Countries in Ocenia” was mapped to “American Samoa”.</em></td>
</tr>
<tr class="even">
<td>P16</td>
<td>From the Join Results, remove other fields from continent2 except for “region” and “sub-region”</td>
<td><img src="img/prep/p16.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>P17</td>
<td>Add Output node and save the file as tidy_trade_data_makeover2.hyper</td>
<td><img src="img/prep/p17.png" style="width:100.0%" /></td>
</tr>
</tbody>
</table>
<h2 id="data-visualisation">4.3 Data Visualisation</h2>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 35%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>#</strong></th>
<th><strong>Step</strong></th>
<th><strong>Reference Image</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>V1</td>
<td>Connect tidy_trade_data_makeover2 Extract to Tableau Desktop</td>
<td><img src="img/viz/v1.png" style="width:90.0%" /></td>
</tr>
<tr class="even">
<td>V2</td>
<td>Create “Net Trade” calculated field by getting the difference of “Export” and “Import”.</td>
<td><img src="img/viz/v2.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V3</td>
<td>Create “Total Trade” calculated field by getting the sum of “Export” and “Import”.</td>
<td><img src="img/viz/v3.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V4</td>
<td>Drag “Total Trade” to Columns, “Net Trade” to Rows and set “Trading Partners” to Details and “Net Trade” to Color in the Marks Pane.</td>
<td><img src="img/viz/v4.png" style="width:90.0%" /></td>
</tr>
<tr class="odd">
<td>V5</td>
<td>Change the “Total Trade” and “Net Trade” settings to Quick Table Calculation -&gt; Percentile</td>
<td><img src="img/viz/v5.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V6</td>
<td>Update the calculation to Compute Using -&gt; “Trading Partners”.</td>
<td><img src="img/viz/v6.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V7</td>
<td>Adjust the color opacity to 80% and negative value to blue and positive to green.</td>
<td><img src="img/viz/v7.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V8</td>
<td>Drag “Total Trade” to Size and set the Graph to “Circle”</td>
<td><img src="img/viz/v8.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V9</td>
<td>Create 6 new calculated fields namely:<br>1) Net Exporter <br>2) Net Importer <br>3) Net Trade Label <br> 4) Rank by Net Exporter <br> 5) Rank by Net Importer <br>6) Rank by Total Trade <br>The formulas are shown on the reference figures.</td>
<td><img src="img/viz/v9a.png" style="width:100.0%" /> <br><img src="img/viz/v9b.png" style="width:100.0%" /> <br><img src="img/viz/v9c.png" style="width:100.0%" /> <br><img src="img/viz/v9d.png" style="width:100.0%" /> <br><img src="img/viz/v9e.png" style="width:100.0%" /> <br><img src="img/viz/v9f.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>V10</td>
<td>Drag the 6 new calculated fields to the Tooltip of the Marks pane</td>
<td><img src="img/viz/v10.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>V11</td>
<td>Adjust the Tooltip to highlight name, total trade, net trade and ranks as shown on the reference figure.</td>
<td><img src="img/viz/v11.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V12</td>
<td>Add a 50% percentile reference line with dash line format on both x and y axes</td>
<td><img src="img/viz/v12.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V13</td>
<td>Drag the “Date” to Filters pane, Show Filter and set to Discrete.</td>
<td><img src="img/viz/v13.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V14</td>
<td>Adjust the YEAR(DATE) filter and uncheck “Show All Value” and set to “Single Value (list)”.</td>
<td><img src="img/viz/v14.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V15</td>
<td>Drag “Region” to Filters pane, Show Filter and adjust to “Single Value (list).</td>
<td><img src="img/viz/v15.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V16</td>
<td>Drag “Rank by Total Trade” to Filters pane, Show Filter and adjust to “Range of values”.</td>
<td><img src="img/viz/v16.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V17</td>
<td>Drag “Trading Partners” to “Label” and adjust the font size to 7 and alignment to Bottom</td>
<td><img src="img/viz/v17.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V18</td>
<td>Enable the animation by selecting Format -&gt; Animations. Set the Duration to 1.5 seconds and Style to Sequential.</td>
<td><img src="img/viz/v18.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V19</td>
<td>Edit the title as shown in the reference image and save the sheet as <em>Bubble Plot</em>.</td>
<td><img src="img/viz/v19.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V20</td>
<td>In a <strong>new sheet</strong>, drag “Date” to Columns, “Net Trade” and “Total Trade” to Rows and set to “Dual Axis”.</td>
<td><img src="img/viz/v20.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V21</td>
<td>For SUM(Net Trade) in the Marks pane, set the graph to Bar chart.</td>
<td><img src="img/viz/v21.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V22</td>
<td>Adjust the color and set negative value to blue and positive to green.</td>
<td><img src="img/viz/v22.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V23</td>
<td>For SUM(Total Trade) in the Marks pane, set the graph to Line chart.</td>
<td><img src="img/viz/v23.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V24</td>
<td>Adjust the y-axis of Total Trade to gold to match the color of the line chart.</td>
<td><img src="img/viz/v24.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V25</td>
<td>Rotate the x-axis label and adjust the size of the graph to make it as small as possible while maintaining the details. Save the sheet as <em>Annual Bar and Line</em>.</td>
<td><img src="img/viz/v25.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V26</td>
<td>In the Bubble Plot Tooltip, insert the Annual Bar and Line.</td>
<td><img src="img/viz/v26.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V27</td>
<td>In a <strong>new sheet</strong>, drag “Date” to Columns and set to “Month” and “Continuous”.</td>
<td><img src="img/viz/v27.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V28</td>
<td>Drag “Export” and “Import” to Rows and set to “Dual Axis”.</td>
<td><img src="img/viz/v28.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V29</td>
<td>Drag “Net Trade” two times to Rows and set to “Dual Axis”.</td>
<td><img src="img/viz/v29.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V30</td>
<td>Synchronize the y-axis of “Import” and uncheck the “Show Header” to hide the second y-axis.</td>
<td><img src="img/viz/v30.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V31</td>
<td>In the Marks pane, change the SUM(Export) and SUM(Import) to “Area” chart. Additionally, set the first SUM(Net Trade) to “Bar” and the second to “Line”.</td>
<td><img src="img/viz/v31.png" style="width:50.0%" /></td>
</tr>
<tr class="even">
<td>V32</td>
<td>Adjust the color of the SUM(EXPORT) to green and SUM(IMPORT) to blue with white Border and 70% opacity.</td>
<td><img src="img/viz/v32a.png" style="width:50.0%" /> <br> <img src="img/viz/v32b.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>V33</td>
<td>Adjust the color of both SUM(Net Trade) and set negative value to blue and positive to green with 80% opacity.</td>
<td><img src="img/viz/v33.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V34</td>
<td>Drag “Trading Partner”, “Export” and “Import” into the SUM(Export) and SUM(Import) tooltips.</td>
<td><img src="img/viz/v34.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>V35</td>
<td>Adjust the SUM(Export) and SUM(Import) tooltips to highlight the date, name, export and import of the trading partner as shown by the reference image.</td>
<td><img src="img/viz/v35.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V36</td>
<td>Drag “Trading Partner”, “Net Trade Label”, “Net Exporter”, “Net Importer”, “Total Trade” into the SUM(Net Trade) tooltips.</td>
<td><img src="img/viz/v36.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>V37</td>
<td>Adjust the SUM(Net Trade) tooltip to highlight the date, name, net export, net import and total trade of the trading partner as shown by the reference image.</td>
<td><img src="img/viz/v37.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V38</td>
<td>Edit the title as shown in the reference image and save the sheet as <em>Monthly Bar</em>.</td>
<td><img src="img/viz/v38.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V39</td>
<td>In a <strong>new sheet</strong>, drag “Date” to Columns and “Total Trade” to Rows.</td>
<td><img src="img/viz/v39.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V40</td>
<td>Create a new calculated field “Total Trade End Point” as shown in the reference image.</td>
<td><img src="img/viz/v40.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V41</td>
<td>In the Marks pane, adjust the graph to line. Drag “Trading Partner” to “Details” and “Label” with Label start of line and Label end of line enabled.</td>
<td><img src="img/viz/v41.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V42</td>
<td>Drag “Date” to Filters, Show Filter and uncheck “Show All Value” and set to “Multiple Value (list)”.</td>
<td><img src="img/viz/v42.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V43</td>
<td>Drag “Total Trade End Point” to Filters</td>
<td><img src="img/viz/v43.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V44</td>
<td>Drag “Rank by Total Trade” to Filters and set Range to values to 1 to 10.</td>
<td><img src="img/viz/v44.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V45</td>
<td>Drag Net Trade to Color and Adjust the color opacity to 95% and negative value to blue and positive to green.</td>
<td><img src="img/viz/v45.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V46</td>
<td>Drag “Total Trade” to Size and adjust to middle mark as shown in the reference image</td>
<td><img src="img/viz/v46.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>V47</td>
<td>Drag “Net Trade Label”, “Net Exporter”, “Net Importer”, “Rank by Total Trade” into the Tooltip.</td>
<td><img src="img/viz/v47.png" style="width:50.0%" /></td>
</tr>
<tr class="even">
<td>V48</td>
<td>Adjust the tooltip to highlight the date, name, net export, net import and total trade of the trading partner as shown by the reference image.</td>
<td><img src="img/viz/v48.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V49</td>
<td>Hide the y-axis label by unchecking the “Show Header” and formatting the Columns line to “None”</td>
<td><img src="img/viz/v49.png" style="width:50.0%" /></td>
</tr>
<tr class="even">
<td>V50</td>
<td>Edit the title as shown in the reference image and save the sheet as <em>Slopegraph</em>.</td>
<td><img src="img/viz/v50.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V51</td>
<td>For the Bubble Pot, Monthly Bar, and Slopegraph, set the view to “Entire View”</td>
<td><img src="img/viz/v51.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>V52</td>
<td>Create a <strong>new dashboard</strong>, set the size to “Automatic” and follow the layout of the proposed design.</td>
<td><img src="img/viz/v52.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V53</td>
<td>Update the filter labels as follows: <br>- “Select # of Partners” from the “Rank by Total Trade” <br>- “Select Region” from “Region” <br>- “Select Trade Year” from “YEAR(Date)” <br>- “Select Start &amp; End Year to Compare” from “YEAR(Date) <br>Unused filters will be removed from the dashboard.</td>
<td><img src="img/viz/v53a.png" style="width:50.0%" /> <br> <img src="img/viz/v53b.png" style="width:50.0%" /></td>
</tr>
<tr class="even">
<td>V54</td>
<td>In the Dashboard menu, select Action and Add “Filter Action” action as shown in the reference image and save it as “Selected Trading Partner”</td>
<td><img src="img/viz/v54.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>V55</td>
<td>Finally, add title, subtitle, annotation in the animated bubble plot, write up and data source reference hyperlinks.</td>
<td><img src="img/viz/v55.png" style="width:100.0%" /></td>
</tr>
</tbody>
</table>
<h1 id="derived-insights">5.0 Derived Insights</h1>
<h2 id="trading-region">5.1 Trading Region</h2>
<p>For the year 2020, Asia is the top trading region of Singapore accounting to 37 out of 109 trading partners, followed by Europe with 27 trading partners, Americas with 26 trading partners, Oceania with 17 trading partners and lastly Africa with only 2 trading partners.</p>
<p>The 2 trading partners in Africa are French Southern Territories and South Sudan. Even with these 2 partners, the trade is NOT consistent. For example, South Sudan has import of S$0.25M around April and May 2014 which was only followed by another import of S$1.443M in Jan 2020.</p>
<p><img src="img/insights-01.png" /></p>
<p>For the Singapore government and companies, it means that there is a huge growth potential in this region, both in terms of import and export, since the little red dot is barely present in the massive African continent.</p>
<h2 id="top-trading-partners-by-total-trade">5.2 Top Trading Partners by Total Trade</h2>
<p>For 2011 to 2020, the Top 10 trading partners is largely unchanged with Malaysia, Mainland China, Indonesia, United States, Hong Kong, Japan, Taiwan, Republic of Korea and Thailand maintaining their top ranks for over a decade.</p>
<p><img src="img/insights-02.png" style="width:50.0%" /></p>
<p>For 2011, the annual total trade of Malaysia is S$ 113.347B which rank 1. However, it slides to rank 2 in 2020 with lower total trade value of S$103.450B. Malaysia also transitioned from net exporter in 2011 with a net export of 14.863B to net importer in 2020 with net import of S$11.649B.</p>
<p><img src="img/insights-02a.png" style="width:100.0%" /></p>
<p>On the other hand, Mainland China rose both in ranking and total trade capturing the top spot in 2020 with a total trade of S$136.204B up from its runner up position in 2011 with only S$101.748B total trade.</p>
<p><img src="img/insights-02b.png" style="width:100.0%" /></p>
<h2 id="top-net-exporter-and-top-net-importer">5.3 Top Net Exporter and Top Net Importer</h2>
<p>In 2020, Taiwan is the top net importer with S$24.932B net import. Looking back in 2011, Taiwan only ranked no. 7 with net import of S$8.988B.</p>
<p><img src="img/insights-03b.png" style="width:100.0%" /></p>
<p>The top importer in 2011 is Saudi Arabia with net import of $S21.063B.</p>
<p><img src="img/insights-03a.png" style="width:100.0%" /></p>
<p>Throughout the decade, Hong Kong has consistently maintained its top net exporter position with S$52.509B net export in 2011 and S$58.5B net export in 2020.</p>
<p><img src="img/insights-03c.png" style="width:100.0%" /></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=DataViz%20Makeover%2002%20&amp;url=https%3A%2F%2Fadolit-vaa.netlify.app%2Fposts%2F2021-06-20-dataviz-makeover-02%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fadolit-vaa.netlify.app%2Fposts%2F2021-06-20-dataviz-makeover-02%2F&amp;title=DataViz%20Makeover%2002%20">
        <i class="fab fa-linkedin"></i>
      </a>
    </span>
  </p>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Dolit (2021, June 20). Visual Analytics &amp; Applications: DataViz Makeover 02 . Retrieved from https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{dolit2021dataviz,
  author = {Dolit, Archie},
  title = {Visual Analytics &amp; Applications: DataViz Makeover 02 },
  url = {https://adolit-vaa.netlify.app/posts/2021-06-20-dataviz-makeover-02/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
